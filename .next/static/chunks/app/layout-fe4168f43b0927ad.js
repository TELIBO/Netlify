(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{49203:function(e,t,r){Promise.resolve().then(r.t.bind(r,86157,23)),Promise.resolve().then(r.t.bind(r,73716,23)),Promise.resolve().then(r.bind(r,903)),Promise.resolve().then(r.t.bind(r,2778,23))},903:function(e,t,r){"use strict";r.d(t,{default:function(){return T}});var s=r(57437),a=r(2265),n=r(58293),l=r(85929),i=r(97226),o=r(98728),c=r(27648),d=r(50030),u=r(91469),m=()=>{let e=(0,d.TL)(),t=(0,d.CG)(e=>e.global.isSidebarCollapsed),r=(0,d.CG)(e=>e.global.isDarkMode);return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white px-4 py-3 dark:bg-black",children:[(0,s.jsx)("div",{className:"flex items-center gap-8",children:t?(0,s.jsx)("button",{onClick:()=>e((0,u.Ot)(!t)),children:(0,s.jsx)(n.Z,{className:"h-8 w-8 dark:text-white"})}):null}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>e((0,u.sT)(!r)),className:r?"rounded p-2 dark:hover:bg-gray-700":"rounded p-2 hover:bg-gray-100",children:r?(0,s.jsx)(l.Z,{className:"h-6 w-6 cursor-pointer dark:text-white"}):(0,s.jsx)(i.Z,{className:"h-6 w-6 cursor-pointer dark:text-white"})}),(0,s.jsx)(c.default,{href:"/settings",className:r?"h-min w-min rounded p-2 dark:hover:bg-gray-700":"h-min w-min rounded p-2 hover:bg-gray-100",children:(0,s.jsx)(o.Z,{className:"h-6 w-6 cursor-pointer dark:text-white"})}),(0,s.jsx)("div",{className:"ml-2 mr-5 hidden min-h-[2em] w-[0.1rem] bg-gray-200 md:inline-block"})]})]})},h=r(33145),x=r(99376),g=r(32489),f=r(77838),b=r(22135),p=r(40875),y=r(18930),j=r(54738),k=r(73304);let w=e=>{let{href:t,label:r,projectId:a}=e,n=(0,x.usePathname)()===t,[l]=(0,j.ec)(),i=async e=>{if(e.preventDefault(),a)try{await l(a).unwrap(),console.log("Project deleted:",r)}catch(e){console.error("Failed to delete project:",e)}};return(0,s.jsx)(c.default,{href:t,children:(0,s.jsxs)("div",{className:"relative flex items-center justify-between transition-colors px-8 py-3 ".concat(n?"bg-gray-100 text-white dark:bg-black":"bg-white dark:bg-black"," hover:bg-gray-300 dark:hover:bg-gray-800"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[n&&(0,s.jsx)("div",{className:"absolute left-0 top-0 h-full w-[8px] bg-slate-600"}),(0,s.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:r})]}),a&&!n&&(0,s.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-red-500 transition-colors",children:(0,s.jsx)(y.Z,{size:18})})]})})};var v=()=>{let[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),{data:l}=(0,j.S4)(),i=(0,d.TL)(),o=(0,d.CG)(e=>e.global.isSidebarCollapsed);return(0,s.jsx)("div",{className:"fixed flex flex-col h-full justify-between shadow-xl transition-all duration-300 z-40 dark:bg-black bg-white ".concat(o?"w-0 hidden":"w-64"," overflow-y-auto"),children:(0,s.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,s.jsxs)("div",{className:"z-50 flex min-h-[56px] w-64 items-center justify-between bg-white px-6 dark:bg-black",children:[(0,s.jsx)("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"TaskFlow"}),(0,s.jsx)("button",{className:"py-3",onClick:()=>i((0,u.Ot)(!o)),children:(0,s.jsx)(g.Z,{className:"h-6 w-6 text-gray-800 hover:text-gray-500 dark:text-white"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-5 border-y border-gray-200 px-8 py-4 dark:border-gray-700",children:[(0,s.jsx)(h.default,{src:"/logo.png",alt:"logo",width:40,height:40}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-md font-bold text-gray-800 dark:text-gray-200",children:"Sanjay's Team"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Private"})]})]}),(0,s.jsxs)("nav",{className:"z-10 w-full",children:[(0,s.jsx)(w,{label:"Timeline",href:"/timeline"}),(0,s.jsx)(w,{label:"Users",href:"/users"}),(0,s.jsxs)("button",{className:"flex items-center ml-7 my-3 rounded-md bg-blue-primary px-3 py-2 text-white hover:bg-blue-600",onClick:()=>n(!0),children:[(0,s.jsx)(f.Z,{className:"mr-2 h-5 w-5"})," New Boards"]}),(0,s.jsx)(k.Z,{isOpen:r,onClose:()=>n(!1)})]}),(0,s.jsxs)("button",{onClick:()=>t(e=>!e),className:"flex w-full items-center justify-between px-8 py-3 text-gray-500",children:[(0,s.jsx)("span",{children:"Projects"}),e?(0,s.jsx)(b.Z,{className:"h-5 w-5"}):(0,s.jsx)(p.Z,{className:"h-5 w-5"})]}),e&&(null==l?void 0:l.map(e=>(0,s.jsx)(w,{label:e.name,href:"/projects/".concat(e.id),projectId:e.id},e.id)))]})})};let N=e=>{let{children:t}=e,r=(0,d.CG)(e=>e.global.isSidebarCollapsed),n=(0,d.CG)(e=>e.global.isDarkMode);return(0,a.useEffect)(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),(0,s.jsxs)("div",{className:"flex min-h-screen w-full bg-gray-50 text-gray-900",children:[(0,s.jsx)(v,{}),(0,s.jsxs)("main",{className:"dark:bg-dark-bg flex w-full flex-col bg-gray-50 ".concat(r?"":"md:pl-64"),children:[(0,s.jsx)(m,{}),t]})]})};var T=e=>{let{children:t}=e;return(0,s.jsx)(d.ZP,{children:(0,s.jsx)(N,{children:t})})}},73304:function(e,t,r){"use strict";var s=r(57437),a=r(54894),n=r(54738),l=r(2265),i=r(57408);t.Z=e=>{let{isOpen:t,onClose:r}=e,[o,{isLoading:c}]=(0,n.BD)(),[d,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[f,b]=(0,l.useState)(""),p=async()=>{if(!d||!x||!f)return;let e=(0,i.c)(new Date(x),{representation:"complete"}),t=(0,i.c)(new Date(f),{representation:"complete"});await o({name:d,description:m,startDate:e,endDate:t})},y="w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none";return(0,s.jsx)(a.Z,{isOpen:t,onClose:r,name:"Create New Project",children:(0,s.jsxs)("form",{className:"mt-4 space-y-6",onSubmit:e=>{e.preventDefault(),p()},children:[(0,s.jsx)("input",{type:"text",className:y,placeholder:"Project Name",value:d,onChange:e=>u(e.target.value)}),(0,s.jsx)("textarea",{className:y,placeholder:"Description",value:m,onChange:e=>h(e.target.value)}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2",children:[(0,s.jsx)("input",{type:"date",className:y,value:x,onChange:e=>g(e.target.value)}),(0,s.jsx)("input",{type:"date",className:y,value:f,onChange:e=>b(e.target.value)})]}),(0,s.jsx)("button",{type:"submit",className:"focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ".concat(!(d&&m&&x&&f)||c?"cursor-not-allowed opacity-50":""),disabled:!(d&&m&&x&&f)||c,children:c?"Creating...":"Create Project"})]})})}},50030:function(e,t,r){"use strict";r.d(t,{CG:function(){return p},TL:function(){return b},ZP:function(){return y}});var s=r(57437),a=r(2265),n=r(59688),l=r(39129),i=r(68575),o=r(91469),c=r(54738),d=r(24960),u=r(9628),m=r(79625);let h=(0,r(67598).Z)("local"),x=(0,n.UY)({global:o.ZP,[c.hi.reducerPath]:c.hi.reducer}),g=(0,u.OJ)({key:"root",storage:h,whitelist:["global"]},x),f=()=>(0,l.xC)({reducer:g,middleware:e=>e({serializableCheck:{ignoredActions:[u._P,u.I2,u.E7,u.ex,u.e,u.Nz]}}).concat(c.hi.middleware)}),b=()=>(0,i.I0)(),p=i.v9;function y(e){let{children:t}=e,r=(0,a.useRef)();r.current||(r.current=f(),(0,d.sj)(r.current.dispatch));let n=(0,u.p5)(r.current);return(0,s.jsx)(i.zt,{store:r.current,children:(0,s.jsx)(m.r,{loading:null,persistor:n,children:t})})}},77066:function(e,t,r){"use strict";var s=r(57437);r(2265),t.Z=e=>{let{name:t,buttonComponent:r,isSmallText:a=!1}=e;return(0,s.jsxs)("div",{className:"mb-5 flex w-full items-center justify-between",children:[(0,s.jsx)("h1",{className:"".concat(a?"text-lg":"text-3xl"," font-semibold dark:text-white "),children:t}),r]})}},54894:function(e,t,r){"use strict";var s=r(57437);r(2265);var a=r(54887),n=r(77066),l=r(32489);t.Z=e=>{let{children:t,isOpen:r,onClose:i,name:o}=e;return r?a.createPortal((0,s.jsx)("div",{className:"fixed inset-0 z-50 flex h-full w-full items-center justify-center overflow-y-auto bg-gray-600 bg-opacity-50 p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl rounded-lg bg-white p-4 shadow-lg dark:bg-dark-secondary",children:[(0,s.jsx)(n.Z,{name:o,buttonComponent:(0,s.jsx)("button",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-blue-primary text-white hover:bg-blue-600",onClick:i,children:(0,s.jsx)(l.Z,{size:18})}),isSmallText:!0}),t]})}),document.body):null}},54738:function(e,t,r){"use strict";r.d(t,{$:function(){return f},A3:function(){return b},BD:function(){return u},IY:function(){return g},NU:function(){return x},S4:function(){return d},UL:function(){return n},Ym:function(){return h},ec:function(){return m},hi:function(){return c},qb:function(){return l},zQ:function(){return p}});var s,a,n,l,i=r(23557),o=r(24960);(s=n||(n={})).Urgent="Urgent",s.High="High",s.Medium="Medium",s.Low="Low",s.Backlog="Backlog",(a=l||(l={})).ToDo="To Do",a.WorkInProgress="Work In Progress",a.UnderReview="Under Review",a.Completed="Completed";let c=(0,i.LC)({baseQuery:(0,o.ni)({baseUrl:"http://localhost:8001"}),reducerPath:"api",tagTypes:["Projects","Tasks","Users","Teams"],endpoints:e=>({getProjects:e.query({query:()=>"projects",providesTags:["Projects"]}),createProject:e.mutation({query:e=>({url:"projects",method:"POST",body:e}),invalidatesTags:["Projects"]}),deleteProject:e.mutation({query:e=>({url:"projects/".concat(e),method:"DELETE"}),invalidatesTags:["Projects"]}),getTasks:e.query({query:e=>{let{projectId:t}=e;return"tasks?projectId=".concat(t)},providesTags:e=>e?e.map(e=>{let{id:t}=e;return{type:"Tasks",id:t}}):[{type:"Tasks"}]}),getTasksByUser:e.query({query:e=>"tasks/user/".concat(e),providesTags:(e,t,r)=>e?e.map(e=>{let{id:t}=e;return{type:"Tasks",id:t}}):[{type:"Tasks",id:r}]}),createTask:e.mutation({query:e=>({url:"tasks",method:"POST",body:e}),invalidatesTags:["Tasks"]}),updateTaskStatus:e.mutation({query:e=>{let{taskId:t,status:r}=e;return{url:"tasks/".concat(t,"/status"),method:"PATCH",body:{status:r}}},invalidatesTags:(e,t,r)=>{let{taskId:s}=r;return[{type:"Tasks",id:s}]}}),deleteTask:e.mutation({query:e=>({url:"tasks/".concat(e),method:"DELETE"}),invalidatesTags:(e,t,r)=>[{type:"Tasks",id:r}]}),getUsers:e.query({query:()=>"users",providesTags:["Users"]}),getTeams:e.query({query:()=>"teams",providesTags:["Teams"]}),search:e.query({query:e=>"search?query=".concat(e)})})}),{useGetProjectsQuery:d,useCreateProjectMutation:u,useDeleteProjectMutation:m,useGetTasksQuery:h,useCreateTaskMutation:x,useDeleteTaskMutation:g,useUpdateTaskStatusMutation:f,useSearchQuery:b,useGetUsersQuery:p,useGetTeamsQuery:y,useGetTasksByUserQuery:j}=c},91469:function(e,t,r){"use strict";r.d(t,{Ot:function(){return a},sT:function(){return n}});let s=(0,r(39129).oM)({name:"global",initialState:{isSidebarCollapsed:!1,isDarkMode:!1},reducers:{setIsSidebarCollapsed:(e,t)=>{e.isSidebarCollapsed=t.payload},setIsDarkMode:(e,t)=>{e.isDarkMode=t.payload}}}),{setIsSidebarCollapsed:a,setIsDarkMode:n}=s.actions;t.ZP=s.reducer},2778:function(){}},function(e){e.O(0,[636,557,747,145,493,971,117,744],function(){return e(e.s=49203)}),_N_E=e.O()}]);